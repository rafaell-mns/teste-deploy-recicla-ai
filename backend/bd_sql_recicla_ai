--
-- PostgreSQL database dump
--

\restrict EBJRaFTbajzwJIXumWEVgQCO7WZTWOkvTenvZKiWB37IfrLWgb6U52lL1vdtnpG

-- Dumped from database version 17.6
-- Dumped by pg_dump version 17.6

-- Started on 2025-11-17 00:57:41

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 2 (class 3079 OID 22189)
-- Name: postgis; Type: EXTENSION; Schema: -; Owner: -
--

CREATE EXTENSION IF NOT EXISTS postgis WITH SCHEMA public;


--
-- TOC entry 5901 (class 0 OID 0)
-- Dependencies: 2
-- Name: EXTENSION postgis; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION postgis IS 'PostGIS geometry and geography spatial types and functions';


SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 240 (class 1259 OID 24524)
-- Name: auth_group; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.auth_group (
    id integer NOT NULL,
    name character varying(150) NOT NULL
);


ALTER TABLE public.auth_group OWNER TO postgres;

--
-- TOC entry 239 (class 1259 OID 24523)
-- Name: auth_group_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.auth_group ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.auth_group_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 242 (class 1259 OID 24532)
-- Name: auth_group_permissions; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.auth_group_permissions (
    id bigint NOT NULL,
    group_id integer NOT NULL,
    permission_id integer NOT NULL
);


ALTER TABLE public.auth_group_permissions OWNER TO postgres;

--
-- TOC entry 241 (class 1259 OID 24531)
-- Name: auth_group_permissions_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.auth_group_permissions ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.auth_group_permissions_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 238 (class 1259 OID 24518)
-- Name: auth_permission; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.auth_permission (
    id integer NOT NULL,
    name character varying(255) NOT NULL,
    content_type_id integer NOT NULL,
    codename character varying(100) NOT NULL
);


ALTER TABLE public.auth_permission OWNER TO postgres;

--
-- TOC entry 237 (class 1259 OID 24517)
-- Name: auth_permission_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.auth_permission ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.auth_permission_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 244 (class 1259 OID 24538)
-- Name: auth_user; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.auth_user (
    id integer NOT NULL,
    password character varying(128) NOT NULL,
    last_login timestamp with time zone,
    is_superuser boolean NOT NULL,
    username character varying(150) NOT NULL,
    first_name character varying(150) NOT NULL,
    last_name character varying(150) NOT NULL,
    email character varying(254) NOT NULL,
    is_staff boolean NOT NULL,
    is_active boolean NOT NULL,
    date_joined timestamp with time zone NOT NULL
);


ALTER TABLE public.auth_user OWNER TO postgres;

--
-- TOC entry 246 (class 1259 OID 24546)
-- Name: auth_user_groups; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.auth_user_groups (
    id bigint NOT NULL,
    user_id integer NOT NULL,
    group_id integer NOT NULL
);


ALTER TABLE public.auth_user_groups OWNER TO postgres;

--
-- TOC entry 245 (class 1259 OID 24545)
-- Name: auth_user_groups_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.auth_user_groups ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.auth_user_groups_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 243 (class 1259 OID 24537)
-- Name: auth_user_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.auth_user ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.auth_user_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 248 (class 1259 OID 24552)
-- Name: auth_user_user_permissions; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.auth_user_user_permissions (
    id bigint NOT NULL,
    user_id integer NOT NULL,
    permission_id integer NOT NULL
);


ALTER TABLE public.auth_user_user_permissions OWNER TO postgres;

--
-- TOC entry 247 (class 1259 OID 24551)
-- Name: auth_user_user_permissions_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.auth_user_user_permissions ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.auth_user_user_permissions_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 226 (class 1259 OID 23283)
-- Name: coletor; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.coletor (
    id integer NOT NULL,
    nome character varying(100) NOT NULL,
    email character varying(100) NOT NULL,
    senha character varying(255) NOT NULL,
    telefone character varying(20),
    cpf character varying(14) NOT NULL,
    cep character varying(9),
    cidade character varying(100),
    estado character(2),
    geom public.geometry(Point,4326),
    nota_avaliacao_atual numeric(3,2) DEFAULT 0.00 NOT NULL,
    total_avaliacoes integer DEFAULT 0 NOT NULL
);


ALTER TABLE public.coletor OWNER TO postgres;

--
-- TOC entry 225 (class 1259 OID 23282)
-- Name: coletor_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.coletor_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.coletor_id_seq OWNER TO postgres;

--
-- TOC entry 5902 (class 0 OID 0)
-- Dependencies: 225
-- Name: coletor_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.coletor_id_seq OWNED BY public.coletor.id;


--
-- TOC entry 228 (class 1259 OID 23296)
-- Name: cooperativa; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.cooperativa (
    id integer NOT NULL,
    nome_empresa character varying(150) NOT NULL,
    email character varying(100) NOT NULL,
    senha character varying(255) NOT NULL,
    telefone character varying(20),
    cnpj character varying(18) NOT NULL,
    cep character varying(9),
    rua character varying(150),
    numero character varying(10),
    bairro character varying(100),
    cidade character varying(100),
    estado character(2),
    geom public.geometry(Point,4326)
);


ALTER TABLE public.cooperativa OWNER TO postgres;

--
-- TOC entry 227 (class 1259 OID 23295)
-- Name: cooperativa_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.cooperativa_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.cooperativa_id_seq OWNER TO postgres;

--
-- TOC entry 5903 (class 0 OID 0)
-- Dependencies: 227
-- Name: cooperativa_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.cooperativa_id_seq OWNED BY public.cooperativa.id;


--
-- TOC entry 255 (class 1259 OID 26074)
-- Name: cooperativa_material; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.cooperativa_material (
    id integer NOT NULL,
    cooperativa_id integer NOT NULL,
    tipo_residuo character varying(50) NOT NULL,
    preco_oferecido numeric(10,2) NOT NULL,
    CONSTRAINT material_valido CHECK (((tipo_residuo)::text = ANY ((ARRAY['Plástico'::character varying, 'Papel'::character varying, 'Metal'::character varying, 'Vidro'::character varying])::text[])))
);


ALTER TABLE public.cooperativa_material OWNER TO postgres;

--
-- TOC entry 254 (class 1259 OID 26073)
-- Name: cooperativa_material_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.cooperativa_material_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.cooperativa_material_id_seq OWNER TO postgres;

--
-- TOC entry 5904 (class 0 OID 0)
-- Dependencies: 254
-- Name: cooperativa_material_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.cooperativa_material_id_seq OWNED BY public.cooperativa_material.id;


--
-- TOC entry 250 (class 1259 OID 24610)
-- Name: django_admin_log; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.django_admin_log (
    id integer NOT NULL,
    action_time timestamp with time zone NOT NULL,
    object_id text,
    object_repr character varying(200) NOT NULL,
    action_flag smallint NOT NULL,
    change_message text NOT NULL,
    content_type_id integer,
    user_id integer NOT NULL,
    CONSTRAINT django_admin_log_action_flag_check CHECK ((action_flag >= 0))
);


ALTER TABLE public.django_admin_log OWNER TO postgres;

--
-- TOC entry 249 (class 1259 OID 24609)
-- Name: django_admin_log_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.django_admin_log ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.django_admin_log_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 236 (class 1259 OID 24510)
-- Name: django_content_type; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.django_content_type (
    id integer NOT NULL,
    app_label character varying(100) NOT NULL,
    model character varying(100) NOT NULL
);


ALTER TABLE public.django_content_type OWNER TO postgres;

--
-- TOC entry 235 (class 1259 OID 24509)
-- Name: django_content_type_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.django_content_type ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.django_content_type_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 234 (class 1259 OID 24502)
-- Name: django_migrations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.django_migrations (
    id bigint NOT NULL,
    app character varying(255) NOT NULL,
    name character varying(255) NOT NULL,
    applied timestamp with time zone NOT NULL
);


ALTER TABLE public.django_migrations OWNER TO postgres;

--
-- TOC entry 233 (class 1259 OID 24501)
-- Name: django_migrations_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.django_migrations ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.django_migrations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 251 (class 1259 OID 24640)
-- Name: django_session; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.django_session (
    session_key character varying(40) NOT NULL,
    session_data text NOT NULL,
    expire_date timestamp with time zone NOT NULL
);


ALTER TABLE public.django_session OWNER TO postgres;

--
-- TOC entry 232 (class 1259 OID 24488)
-- Name: item_solicitacao; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.item_solicitacao (
    id_item integer NOT NULL,
    id_solicitacao integer NOT NULL,
    quantidade numeric(10,2) NOT NULL,
    tipo_residuo character varying(50) NOT NULL,
    unidade_medida character varying(10) NOT NULL,
    CONSTRAINT chk_tipo_residuo CHECK (((tipo_residuo)::text = ANY ((ARRAY['Vidro'::character varying, 'Metal'::character varying, 'Papel'::character varying, 'Plástico'::character varying])::text[]))),
    CONSTRAINT item_solicitacao_unidade_medida_check CHECK (((unidade_medida)::text = ANY ((ARRAY['KG'::character varying, 'UN'::character varying, 'VOLUME'::character varying])::text[])))
);


ALTER TABLE public.item_solicitacao OWNER TO postgres;

--
-- TOC entry 231 (class 1259 OID 24487)
-- Name: item_solicitacao_id_item_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.item_solicitacao_id_item_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.item_solicitacao_id_item_seq OWNER TO postgres;

--
-- TOC entry 5905 (class 0 OID 0)
-- Dependencies: 231
-- Name: item_solicitacao_id_item_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.item_solicitacao_id_item_seq OWNED BY public.item_solicitacao.id_item;


--
-- TOC entry 224 (class 1259 OID 23270)
-- Name: produtor; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.produtor (
    id integer NOT NULL,
    nome character varying(100) NOT NULL,
    email character varying(100) NOT NULL,
    senha character varying(255) NOT NULL,
    telefone character varying(20),
    cpf_cnpj character varying(18) NOT NULL,
    cep character varying(9),
    rua character varying(150),
    numero character varying(10),
    bairro character varying(100),
    cidade character varying(100),
    estado character(2),
    geom public.geometry(Point,4326),
    nota_avaliacao_atual numeric(3,2) DEFAULT 0.00 NOT NULL,
    total_avaliacoes integer DEFAULT 0 NOT NULL,
    saldo_pontos numeric(10,2) DEFAULT 0.00 NOT NULL
);


ALTER TABLE public.produtor OWNER TO postgres;

--
-- TOC entry 223 (class 1259 OID 23269)
-- Name: produtor_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.produtor_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.produtor_id_seq OWNER TO postgres;

--
-- TOC entry 5906 (class 0 OID 0)
-- Dependencies: 223
-- Name: produtor_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.produtor_id_seq OWNED BY public.produtor.id;


--
-- TOC entry 253 (class 1259 OID 24674)
-- Name: recompensa; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.recompensa (
    id_recompensa integer NOT NULL,
    id_produtor integer NOT NULL,
    codigo_voucher character varying(50) NOT NULL,
    nome_premio character varying(100) NOT NULL,
    loja_parceira character varying(100) NOT NULL,
    status character varying(20) NOT NULL,
    CONSTRAINT recompensa_status_check CHECK (((status)::text = ANY ((ARRAY['ATIVO'::character varying, 'RESGATADO'::character varying])::text[])))
);


ALTER TABLE public.recompensa OWNER TO postgres;

--
-- TOC entry 252 (class 1259 OID 24673)
-- Name: recompensa_id_recompensa_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.recompensa_id_recompensa_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.recompensa_id_recompensa_seq OWNER TO postgres;

--
-- TOC entry 5907 (class 0 OID 0)
-- Dependencies: 252
-- Name: recompensa_id_recompensa_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.recompensa_id_recompensa_seq OWNED BY public.recompensa.id_recompensa;


--
-- TOC entry 230 (class 1259 OID 23309)
-- Name: solicitacao_coleta; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.solicitacao_coleta (
    id integer NOT NULL,
    produtor_id integer NOT NULL,
    coletor_id integer,
    status character varying(20) DEFAULT 'SOLICITADA'::character varying NOT NULL,
    inicio_coleta timestamp without time zone NOT NULL,
    fim_coleta timestamp without time zone NOT NULL,
    observacoes character varying(200),
    solicitacao timestamp without time zone,
    cooperativa_id integer,
    CONSTRAINT solicitacao_coleta_status_check CHECK (((status)::text = ANY ((ARRAY['SOLICITADA'::character varying, 'ACEITA'::character varying, 'CANCELADA'::character varying, 'CONFIRMADA'::character varying])::text[])))
);


ALTER TABLE public.solicitacao_coleta OWNER TO postgres;

--
-- TOC entry 229 (class 1259 OID 23308)
-- Name: solicitacao_coleta_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.solicitacao_coleta_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.solicitacao_coleta_id_seq OWNER TO postgres;

--
-- TOC entry 5908 (class 0 OID 0)
-- Dependencies: 229
-- Name: solicitacao_coleta_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.solicitacao_coleta_id_seq OWNED BY public.solicitacao_coleta.id;


--
-- TOC entry 5636 (class 2604 OID 23286)
-- Name: coletor id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.coletor ALTER COLUMN id SET DEFAULT nextval('public.coletor_id_seq'::regclass);


--
-- TOC entry 5639 (class 2604 OID 23299)
-- Name: cooperativa id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.cooperativa ALTER COLUMN id SET DEFAULT nextval('public.cooperativa_id_seq'::regclass);


--
-- TOC entry 5644 (class 2604 OID 26077)
-- Name: cooperativa_material id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.cooperativa_material ALTER COLUMN id SET DEFAULT nextval('public.cooperativa_material_id_seq'::regclass);


--
-- TOC entry 5642 (class 2604 OID 24491)
-- Name: item_solicitacao id_item; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.item_solicitacao ALTER COLUMN id_item SET DEFAULT nextval('public.item_solicitacao_id_item_seq'::regclass);


--
-- TOC entry 5632 (class 2604 OID 23273)
-- Name: produtor id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.produtor ALTER COLUMN id SET DEFAULT nextval('public.produtor_id_seq'::regclass);


--
-- TOC entry 5643 (class 2604 OID 24677)
-- Name: recompensa id_recompensa; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.recompensa ALTER COLUMN id_recompensa SET DEFAULT nextval('public.recompensa_id_recompensa_seq'::regclass);


--
-- TOC entry 5640 (class 2604 OID 23312)
-- Name: solicitacao_coleta id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.solicitacao_coleta ALTER COLUMN id SET DEFAULT nextval('public.solicitacao_coleta_id_seq'::regclass);


--
-- TOC entry 5689 (class 2606 OID 24638)
-- Name: auth_group auth_group_name_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_group
    ADD CONSTRAINT auth_group_name_key UNIQUE (name);


--
-- TOC entry 5694 (class 2606 OID 24567)
-- Name: auth_group_permissions auth_group_permissions_group_id_permission_id_0cd325b0_uniq; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_group_permissions
    ADD CONSTRAINT auth_group_permissions_group_id_permission_id_0cd325b0_uniq UNIQUE (group_id, permission_id);


--
-- TOC entry 5697 (class 2606 OID 24536)
-- Name: auth_group_permissions auth_group_permissions_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_group_permissions
    ADD CONSTRAINT auth_group_permissions_pkey PRIMARY KEY (id);


--
-- TOC entry 5691 (class 2606 OID 24528)
-- Name: auth_group auth_group_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_group
    ADD CONSTRAINT auth_group_pkey PRIMARY KEY (id);


--
-- TOC entry 5684 (class 2606 OID 24558)
-- Name: auth_permission auth_permission_content_type_id_codename_01ab375a_uniq; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_permission
    ADD CONSTRAINT auth_permission_content_type_id_codename_01ab375a_uniq UNIQUE (content_type_id, codename);


--
-- TOC entry 5686 (class 2606 OID 24522)
-- Name: auth_permission auth_permission_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_permission
    ADD CONSTRAINT auth_permission_pkey PRIMARY KEY (id);


--
-- TOC entry 5705 (class 2606 OID 24550)
-- Name: auth_user_groups auth_user_groups_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_user_groups
    ADD CONSTRAINT auth_user_groups_pkey PRIMARY KEY (id);


--
-- TOC entry 5708 (class 2606 OID 24582)
-- Name: auth_user_groups auth_user_groups_user_id_group_id_94350c0c_uniq; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_user_groups
    ADD CONSTRAINT auth_user_groups_user_id_group_id_94350c0c_uniq UNIQUE (user_id, group_id);


--
-- TOC entry 5699 (class 2606 OID 24542)
-- Name: auth_user auth_user_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_user
    ADD CONSTRAINT auth_user_pkey PRIMARY KEY (id);


--
-- TOC entry 5711 (class 2606 OID 24556)
-- Name: auth_user_user_permissions auth_user_user_permissions_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_user_user_permissions
    ADD CONSTRAINT auth_user_user_permissions_pkey PRIMARY KEY (id);


--
-- TOC entry 5714 (class 2606 OID 24596)
-- Name: auth_user_user_permissions auth_user_user_permissions_user_id_permission_id_14a6b632_uniq; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_user_user_permissions
    ADD CONSTRAINT auth_user_user_permissions_user_id_permission_id_14a6b632_uniq UNIQUE (user_id, permission_id);


--
-- TOC entry 5702 (class 2606 OID 24633)
-- Name: auth_user auth_user_username_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_user
    ADD CONSTRAINT auth_user_username_key UNIQUE (username);


--
-- TOC entry 5661 (class 2606 OID 24652)
-- Name: coletor coletor_cpf_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.coletor
    ADD CONSTRAINT coletor_cpf_key UNIQUE (cpf);


--
-- TOC entry 5663 (class 2606 OID 23292)
-- Name: coletor coletor_email_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.coletor
    ADD CONSTRAINT coletor_email_key UNIQUE (email);


--
-- TOC entry 5665 (class 2606 OID 23290)
-- Name: coletor coletor_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.coletor
    ADD CONSTRAINT coletor_pkey PRIMARY KEY (id);


--
-- TOC entry 5667 (class 2606 OID 23307)
-- Name: cooperativa cooperativa_cnpj_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.cooperativa
    ADD CONSTRAINT cooperativa_cnpj_key UNIQUE (cnpj);


--
-- TOC entry 5669 (class 2606 OID 23305)
-- Name: cooperativa cooperativa_email_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.cooperativa
    ADD CONSTRAINT cooperativa_email_key UNIQUE (email);


--
-- TOC entry 5728 (class 2606 OID 26082)
-- Name: cooperativa_material cooperativa_material_cooperativa_id_tipo_residuo_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.cooperativa_material
    ADD CONSTRAINT cooperativa_material_cooperativa_id_tipo_residuo_key UNIQUE (cooperativa_id, tipo_residuo);


--
-- TOC entry 5730 (class 2606 OID 26080)
-- Name: cooperativa_material cooperativa_material_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.cooperativa_material
    ADD CONSTRAINT cooperativa_material_pkey PRIMARY KEY (id);


--
-- TOC entry 5671 (class 2606 OID 23303)
-- Name: cooperativa cooperativa_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.cooperativa
    ADD CONSTRAINT cooperativa_pkey PRIMARY KEY (id);


--
-- TOC entry 5717 (class 2606 OID 24617)
-- Name: django_admin_log django_admin_log_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.django_admin_log
    ADD CONSTRAINT django_admin_log_pkey PRIMARY KEY (id);


--
-- TOC entry 5679 (class 2606 OID 24516)
-- Name: django_content_type django_content_type_app_label_model_76bd3d3b_uniq; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.django_content_type
    ADD CONSTRAINT django_content_type_app_label_model_76bd3d3b_uniq UNIQUE (app_label, model);


--
-- TOC entry 5681 (class 2606 OID 24514)
-- Name: django_content_type django_content_type_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.django_content_type
    ADD CONSTRAINT django_content_type_pkey PRIMARY KEY (id);


--
-- TOC entry 5677 (class 2606 OID 24508)
-- Name: django_migrations django_migrations_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.django_migrations
    ADD CONSTRAINT django_migrations_pkey PRIMARY KEY (id);


--
-- TOC entry 5721 (class 2606 OID 24646)
-- Name: django_session django_session_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.django_session
    ADD CONSTRAINT django_session_pkey PRIMARY KEY (session_key);


--
-- TOC entry 5675 (class 2606 OID 24493)
-- Name: item_solicitacao item_solicitacao_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.item_solicitacao
    ADD CONSTRAINT item_solicitacao_pkey PRIMARY KEY (id_item);


--
-- TOC entry 5655 (class 2606 OID 24650)
-- Name: produtor produtor_cpf_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.produtor
    ADD CONSTRAINT produtor_cpf_key UNIQUE (cpf_cnpj);


--
-- TOC entry 5657 (class 2606 OID 23279)
-- Name: produtor produtor_email_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.produtor
    ADD CONSTRAINT produtor_email_key UNIQUE (email);


--
-- TOC entry 5659 (class 2606 OID 23277)
-- Name: produtor produtor_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.produtor
    ADD CONSTRAINT produtor_pkey PRIMARY KEY (id);


--
-- TOC entry 5724 (class 2606 OID 24682)
-- Name: recompensa recompensa_codigo_voucher_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.recompensa
    ADD CONSTRAINT recompensa_codigo_voucher_key UNIQUE (codigo_voucher);


--
-- TOC entry 5726 (class 2606 OID 24680)
-- Name: recompensa recompensa_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.recompensa
    ADD CONSTRAINT recompensa_pkey PRIMARY KEY (id_recompensa);


--
-- TOC entry 5673 (class 2606 OID 23317)
-- Name: solicitacao_coleta solicitacao_coleta_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.solicitacao_coleta
    ADD CONSTRAINT solicitacao_coleta_pkey PRIMARY KEY (id);


--
-- TOC entry 5687 (class 1259 OID 24639)
-- Name: auth_group_name_a6ea08ec_like; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX auth_group_name_a6ea08ec_like ON public.auth_group USING btree (name varchar_pattern_ops);


--
-- TOC entry 5692 (class 1259 OID 24578)
-- Name: auth_group_permissions_group_id_b120cbf9; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX auth_group_permissions_group_id_b120cbf9 ON public.auth_group_permissions USING btree (group_id);


--
-- TOC entry 5695 (class 1259 OID 24579)
-- Name: auth_group_permissions_permission_id_84c5c92e; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX auth_group_permissions_permission_id_84c5c92e ON public.auth_group_permissions USING btree (permission_id);


--
-- TOC entry 5682 (class 1259 OID 24564)
-- Name: auth_permission_content_type_id_2f476e4b; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX auth_permission_content_type_id_2f476e4b ON public.auth_permission USING btree (content_type_id);


--
-- TOC entry 5703 (class 1259 OID 24594)
-- Name: auth_user_groups_group_id_97559544; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX auth_user_groups_group_id_97559544 ON public.auth_user_groups USING btree (group_id);


--
-- TOC entry 5706 (class 1259 OID 24593)
-- Name: auth_user_groups_user_id_6a12ed8b; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX auth_user_groups_user_id_6a12ed8b ON public.auth_user_groups USING btree (user_id);


--
-- TOC entry 5709 (class 1259 OID 24608)
-- Name: auth_user_user_permissions_permission_id_1fbb5f2c; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX auth_user_user_permissions_permission_id_1fbb5f2c ON public.auth_user_user_permissions USING btree (permission_id);


--
-- TOC entry 5712 (class 1259 OID 24607)
-- Name: auth_user_user_permissions_user_id_a95ead1b; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX auth_user_user_permissions_user_id_a95ead1b ON public.auth_user_user_permissions USING btree (user_id);


--
-- TOC entry 5700 (class 1259 OID 24634)
-- Name: auth_user_username_6821ab7c_like; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX auth_user_username_6821ab7c_like ON public.auth_user USING btree (username varchar_pattern_ops);


--
-- TOC entry 5715 (class 1259 OID 24628)
-- Name: django_admin_log_content_type_id_c4bce8eb; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX django_admin_log_content_type_id_c4bce8eb ON public.django_admin_log USING btree (content_type_id);


--
-- TOC entry 5718 (class 1259 OID 24629)
-- Name: django_admin_log_user_id_c564eba6; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX django_admin_log_user_id_c564eba6 ON public.django_admin_log USING btree (user_id);


--
-- TOC entry 5719 (class 1259 OID 24648)
-- Name: django_session_expire_date_a5c62663; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX django_session_expire_date_a5c62663 ON public.django_session USING btree (expire_date);


--
-- TOC entry 5722 (class 1259 OID 24647)
-- Name: django_session_session_key_c0390e0f_like; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX django_session_session_key_c0390e0f_like ON public.django_session USING btree (session_key varchar_pattern_ops);


--
-- TOC entry 5736 (class 2606 OID 24573)
-- Name: auth_group_permissions auth_group_permissio_permission_id_84c5c92e_fk_auth_perm; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_group_permissions
    ADD CONSTRAINT auth_group_permissio_permission_id_84c5c92e_fk_auth_perm FOREIGN KEY (permission_id) REFERENCES public.auth_permission(id) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 5737 (class 2606 OID 24568)
-- Name: auth_group_permissions auth_group_permissions_group_id_b120cbf9_fk_auth_group_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_group_permissions
    ADD CONSTRAINT auth_group_permissions_group_id_b120cbf9_fk_auth_group_id FOREIGN KEY (group_id) REFERENCES public.auth_group(id) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 5735 (class 2606 OID 24559)
-- Name: auth_permission auth_permission_content_type_id_2f476e4b_fk_django_co; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_permission
    ADD CONSTRAINT auth_permission_content_type_id_2f476e4b_fk_django_co FOREIGN KEY (content_type_id) REFERENCES public.django_content_type(id) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 5738 (class 2606 OID 24588)
-- Name: auth_user_groups auth_user_groups_group_id_97559544_fk_auth_group_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_user_groups
    ADD CONSTRAINT auth_user_groups_group_id_97559544_fk_auth_group_id FOREIGN KEY (group_id) REFERENCES public.auth_group(id) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 5739 (class 2606 OID 24583)
-- Name: auth_user_groups auth_user_groups_user_id_6a12ed8b_fk_auth_user_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_user_groups
    ADD CONSTRAINT auth_user_groups_user_id_6a12ed8b_fk_auth_user_id FOREIGN KEY (user_id) REFERENCES public.auth_user(id) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 5740 (class 2606 OID 24602)
-- Name: auth_user_user_permissions auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_user_user_permissions
    ADD CONSTRAINT auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm FOREIGN KEY (permission_id) REFERENCES public.auth_permission(id) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 5741 (class 2606 OID 24597)
-- Name: auth_user_user_permissions auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_user_user_permissions
    ADD CONSTRAINT auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id FOREIGN KEY (user_id) REFERENCES public.auth_user(id) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 5745 (class 2606 OID 26083)
-- Name: cooperativa_material cooperativa_material_cooperativa_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.cooperativa_material
    ADD CONSTRAINT cooperativa_material_cooperativa_id_fkey FOREIGN KEY (cooperativa_id) REFERENCES public.cooperativa(id);


--
-- TOC entry 5742 (class 2606 OID 24618)
-- Name: django_admin_log django_admin_log_content_type_id_c4bce8eb_fk_django_co; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.django_admin_log
    ADD CONSTRAINT django_admin_log_content_type_id_c4bce8eb_fk_django_co FOREIGN KEY (content_type_id) REFERENCES public.django_content_type(id) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 5743 (class 2606 OID 24623)
-- Name: django_admin_log django_admin_log_user_id_c564eba6_fk_auth_user_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.django_admin_log
    ADD CONSTRAINT django_admin_log_user_id_c564eba6_fk_auth_user_id FOREIGN KEY (user_id) REFERENCES public.auth_user(id) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 5731 (class 2606 OID 26088)
-- Name: solicitacao_coleta fk_cooperativa; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.solicitacao_coleta
    ADD CONSTRAINT fk_cooperativa FOREIGN KEY (cooperativa_id) REFERENCES public.cooperativa(id);


--
-- TOC entry 5734 (class 2606 OID 24494)
-- Name: item_solicitacao item_solicitacao_id_solicitacao_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.item_solicitacao
    ADD CONSTRAINT item_solicitacao_id_solicitacao_fkey FOREIGN KEY (id_solicitacao) REFERENCES public.solicitacao_coleta(id) ON DELETE CASCADE;


--
-- TOC entry 5744 (class 2606 OID 24683)
-- Name: recompensa recompensa_id_produtor_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.recompensa
    ADD CONSTRAINT recompensa_id_produtor_fkey FOREIGN KEY (id_produtor) REFERENCES public.produtor(id);


--
-- TOC entry 5732 (class 2606 OID 23323)
-- Name: solicitacao_coleta solicitacao_coleta_coletor_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.solicitacao_coleta
    ADD CONSTRAINT solicitacao_coleta_coletor_id_fkey FOREIGN KEY (coletor_id) REFERENCES public.coletor(id);


--
-- TOC entry 5733 (class 2606 OID 23318)
-- Name: solicitacao_coleta solicitacao_coleta_produtor_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.solicitacao_coleta
    ADD CONSTRAINT solicitacao_coleta_produtor_id_fkey FOREIGN KEY (produtor_id) REFERENCES public.produtor(id);


-- Completed on 2025-11-17 00:57:43

--
-- PostgreSQL database dump complete
--

\unrestrict EBJRaFTbajzwJIXumWEVgQCO7WZTWOkvTenvZKiWB37IfrLWgb6U52lL1vdtnpG

